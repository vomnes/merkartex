<template>
  <div class="autocomplete-icon-category">
    <div class="autocomplete-icon-category__current-icon">
      <span class="selected-icon" >{{ value.icon }}</span>
    </div>
    <md-autocomplete
      v-model="value"
      :md-options="list.map(x => formatValue(x))">
      <label>
        Category
      </label>

      <template slot="md-autocomplete-item" slot-scope="{ item }">
        <span class="autocomplete-icon-category__list--item">{{ item.icon }}</span>
        <md-highlight-text :md-term="item.name">{{ item.name }}</md-highlight-text>
      </template>

      <template slot="md-autocomplete-empty" slot-scope="{ term }">
        Category "{{ term }}" not handled
      </template>
    </md-autocomplete>
  </div>
</template>

<script>
const formatValue = ({ name, icon }) => {
  const toLowerCase = () => name.toLowerCase();
  const toString = () => name;
  return {
    name,
    icon,
    toLowerCase,
    toString,
  };
};

export default {
  name: 'AutocompleteIconCategory',
  data: () => ({
    value: formatValue({ name: 'None', icon: 'â¨€' }),
    list: [
      { name: 'None', icon: 'â¨€' },
      { name: 'Hotel', icon: 'ğŸ¨' },
      { name: 'Animals', icon: 'ğŸ¾' },
      { name: 'Buddhism', icon: 'â˜¸ï¸' },
      { name: 'Building', icon: 'ğŸ¢' },
      { name: 'Christianity', icon: 'âœï¸' },
      { name: 'Entertainment', icon: 'ğŸ¬' },
      { name: 'Exchange', icon: 'ğŸ’¸' },
      { name: 'Food', icon: 'ğŸ½' },
      { name: 'Gas', icon: 'â›½' },
      { name: 'Judaism', icon: 'âœ¡ï¸' },
      { name: 'Medicine', icon: 'ğŸ¥' },
      { name: 'Mountain', icon: 'ğŸ”' },
      { name: 'Museum', icon: 'ğŸ–¼' },
      { name: 'Islam', icon: 'â˜ªï¸' },
      { name: 'Park', icon: 'ğŸŒ³' },
      { name: 'Parking', icon: 'ğŸš—' },
      { name: 'Shop', icon: 'ğŸ›' },
      { name: 'Sights', icon: 'ğŸŒ„' },
      { name: 'Swim', icon: 'ğŸŠğŸ»' },
      { name: 'Water', icon: 'ğŸŒŠ' },
      { name: 'Bar', icon: 'ğŸ»' },
      { name: 'Transport', icon: 'ğŸš†' },
      { name: 'Viewpoint', icon: 'ğŸŒ…' },
      { name: 'Sport', icon: 'ğŸ¾' },
      { name: 'Finish', icon: 'ğŸ' },
    ],
    formatValue,
  }),
  methods: {
    noop() {
      window.alert('noop');
    },
  },
};
</script>

<style lang="scss" scoped>
  .autocomplete-icon-category {
    display: flex;

     &__current-icon {
      display: flex;
      align-items: flex-end;
      margin-bottom: 1rem;

      &__list--item {
        margin-right: 1rem;
      }
    }
  }
</style>

<style lang="scss">
  @import '../../style/main.scss';

  .autocomplete-icon-category {
    &__list--item {
      margin-right: 1rem;
    }

    &__current-icon {
      .selected-icon {
        width: 1.6rem;
        height: 1.6rem;
        display: inline-block;
        margin-right: 1.6rem;
        border-radius: 50%;
      }
    }
  }

  .md-menu-content {
    z-index: 11;
  }

  .md-list.md-theme-default .md-autocomplete-items .md-highlight-text-match {
    color: $color-primary;
    @extend .text__details;
    text-transform: capitalize;
  }

  .md-field {
    margin: 0;
  }

  :root {
    --md-theme-default-primary: #3A7BD5;
  }
</style>
